#!/usr/bin/env node

"use strict";

const commander = require("commander");

const cli = require("../lib/cli");

commander
  .command("init")
  .description("initialize a project")
  .action(() => {
    const cwd = process.cwd();
    cli.init(cwd).catch(err => {
      console.error(err); // eslint-disable-line no-console
      process.exit(1);
    });
  });

commander
  .command("run <profile> [glob...]")
  .description("run tasks")
  .action((profileName, globs) => {
    const cwd = process.cwd();
    cli.run(cwd, profileName, globs).catch(err => {
      console.error(err); // eslint-disable-line no-console
      process.exit(1);
    });
  });

commander.parse(process.argv);
